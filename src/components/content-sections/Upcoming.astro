---
import ContentSection from '../ContentSection.astro';
import Event from '../Event.astro';

type Performer = {
    name: string;
    title?: string;
}

type Link = {
    url: string;
    text: string;
}

type Event = {
    title: string;
    subTitle?: string;
    date: string;
    location: string;
    performers: Performer[];
    link?: Link | null;
}

export interface Props {
    title: string;
    sectionId: string;
    events: Event[];
}

const { title, sectionId, events } = Astro.props;
---

{events.length > 0 && (
    <ContentSection
        {title}
        {sectionId}
        withHeaderTag={false}
    >
        <ul class="[&_>_li+li]:pt-12 max-w-sm mx-auto mb-48">
            {events.map((event: Event) => (
                <Event
                    title={event.title}
                    subTitle={event.subTitle}
                    date={event.date}
                    location={event.location}
                    performers={event.performers}
                    link={event.link}
                />
            ))}
        </ul>
    </ContentSection>
)}