# yaml-language-server: $schema=https://unpkg.com/@sveltia/cms/schema/sveltia-cms.json
backend:
  name: github
  repo: alexandrahedin/alexandrahedin.github.io
  branch: main
  base_url: https://decap-proxy.decap-auth-alexandrahedin.workers.dev

site_url: https://alexandrahedin.se

media_folder: "public/uploads"
public_folder: "/uploads"

# i18n configuration for Sveltia CMS
i18n:
  structure: multiple_files
  locales: [en, sv]
  default_locale: en

collections:
  - name: "events"
    label: "Events"
    label_singular: "Event"
    folder: "src/content/events"
    create: true
    icon: "event"
    extension: "md"
    format: "yaml-frontmatter"
    slug: "{{date}}-{{slug}}"
    summary: "{{date}} â€” {{title}}"
    sortable_fields: ['date', 'title']
    i18n: true
    fields:
      - { label: "Title", name: "title", widget: "string", i18n: true }
      - { label: "Subtitle", name: "subTitle", widget: "string", required: false, i18n: true }
      - { label: "Date", name: "date", widget: "datetime", format: "YYYY-MM-DD", time_format: false, picker_utc: false, i18n: duplicate }
      - { label: "Time", name: "time", widget: "string", pattern: ['^([01]?[0-9]|2[0-3]):[0-5][0-9]$', 'Must be in HH:mm format (e.g., 14:30)'], i18n: duplicate }
      - { label: "Location", name: "location", widget: "string", i18n: true }

      - label: "Performers"
        name: "performers"
        widget: "list"
        min: 1
        i18n: true
        fields:
          - { label: "Name", name: "name", widget: "string", i18n: true }
          - { label: "Role / Instrument", name: "title", widget: "string", required: false, i18n: true }

      - label: "Link"
        name: "link"
        widget: "object"
        required: false
        i18n: true
        fields:
          - { label: "URL", name: "url", widget: "string", required: false, i18n: duplicate }
          - { label: "Link text", name: "text", widget: "string", required: false, i18n: true }

  - name: "biography"
    label: "Biography"
    icon: "person_book"
    i18n:
      structure: multiple_files
      locales: [en, sv]
    files:
      - label: "Biography"
        name: "biography"
        file: "src/content/biography/biography.{{locale}}.md"
        i18n: true
        fields:
          - { label: "Title", name: "title", widget: "string", i18n: true }
          - { label: "Content", name: "body", widget: "markdown", i18n: true }
